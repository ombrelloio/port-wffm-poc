@using Sitecore.Form.Web.UI.Controls
@using Sitecore.Forms.Mvc.Html
@model Sitecore.Forms.Mvc.ViewModels.Fields.DatePickerField

@using (Html.BeginField())
{
    @Html.RenderScriptBlock(
        @<script type="text/javascript">
             if (typeof window.WffmFieldsData === 'undefined') {
                 window.WffmFieldsData = {}
             }

             window.WffmFieldsData["@Html.IdFor(x => Model.Value)"] =
             {
                 'defaultDate': new Date('@Model.Value'),
                 'dateFormat': '@ClientDateFormatConverter.ConvertToClientFormat(Model.DateFormat)',
                 'minDate': new Date('@Model.StartDate.Year', '@(Model.StartDate.Month - 1)', '@Model.StartDate.Day'),
                 'maxDate': new Date('@Model.EndDate.Year', '@(Model.EndDate.Month - 1)', '@Model.EndDate.Day'),
             };
         </script>)
    
    @Html.Editor("Value", null, new
    {
        htmlAttributes = new
        {
            @class = "form-control datepicker"
        }
    })
}
